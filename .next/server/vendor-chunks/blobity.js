"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/blobity";
exports.ids = ["vendor-chunks/blobity"];
exports.modules = {

/***/ "(ssr)/./node_modules/blobity/lib/Blobity.js":
/*!*********************************************!*\
  !*** ./node_modules/blobity/lib/Blobity.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar throttle_1 = __importDefault(__webpack_require__(/*! lodash/throttle */ \"(ssr)/./node_modules/lodash/throttle.js\"));\nvar kinet_1 = __importDefault(__webpack_require__(/*! kinet */ \"(ssr)/./node_modules/kinet/lib/index.js\"));\nvar helpers_1 = __webpack_require__(/*! ./helpers */ \"(ssr)/./node_modules/blobity/lib/helpers.js\");\nvar Magnetic_1 = __importDefault(__webpack_require__(/*! ./Magnetic */ \"(ssr)/./node_modules/blobity/lib/Magnetic.js\"));\nvar Blobity = /** @class */ (function () {\n    function Blobity(options) {\n        var _this = this;\n        this.options = {\n            color: 'rgb(180, 180, 180)',\n            opacity: 1,\n            licenseKey: null,\n            size: 40,\n            focusableElements: '[data-blobity], a:not([data-no-blobity]), button:not([data-no-blobity]), [data-blobity-tooltip]',\n            focusableElementsOffsetX: 0,\n            focusableElementsOffsetY: 0,\n            zIndex: -1,\n            invert: false,\n            dotColor: null,\n            dotSize: 8,\n            magnetic: true,\n            mode: 'normal',\n            radius: 4,\n            font: 'sans-serif',\n            fontWeight: 400,\n            fontSize: 40,\n            fontColor: '#000000',\n            tooltipPadding: 12,\n            kineticMorphing: true,\n        };\n        this.initialized = false;\n        this.color = { r: 0, g: 0, b: 0 };\n        this.fontColor = { r: 0, g: 0, b: 0 };\n        this.stickedToElement = null;\n        this.sticketToElementTooltip = null;\n        this.disablingStickedToElementTimeout = null;\n        this.isActive = true;\n        this.destroyed = false;\n        this.currentMagnetic = null;\n        this.kinetPresets = {\n            normal: {\n                acceleration: 0.1,\n                friction: 0.35,\n            },\n            bouncy: {\n                acceleration: 0.1,\n                friction: 0.28,\n            },\n            slow: {\n                acceleration: 0.06,\n                friction: 0.35,\n            },\n        };\n        this.lastKnownCoordinates = { x: 0, y: 0 };\n        this.currentOffsetX = 0;\n        this.currentOffsetY = 0;\n        this.manuallySetFocusedElement = null;\n        this.manuallySetTooltipText = null;\n        this.disableTimeStamp = new Date().getTime();\n        this.reduceMotionSetting = false;\n        this.kinetDefaultMethod = 'animate';\n        this.updateOptions = function (newOptions) {\n            _this.options = __assign(__assign({}, _this.options), newOptions);\n            if (Array.isArray(_this.options.color)) {\n                _this.color = _this.options.color.map(function (color) { return helpers_1.convertColor(color); });\n            }\n            else {\n                _this.color = helpers_1.convertColor(_this.options.color);\n            }\n            _this.fontColor = helpers_1.convertColor(_this.options.fontColor);\n            if (_this.options.invert) {\n                _this.color = helpers_1.convertColor('rgb(255, 255, 255)');\n            }\n            if (_this.options.dotColor) {\n                if (_this.globalStyles) {\n                    document.head.removeChild(_this.globalStyles);\n                    _this.globalStyles = undefined;\n                }\n                if (!_this.globalStyles) {\n                    var dot = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\" + _this.options.dotSize + \"\\\" height=\\\"\" + _this.options.dotSize + \"\\\"\\n                viewBox=\\\"0 0 8 8\\\"><circle cx=\\\"4\\\" cy=\\\"4\\\" r=\\\"4\\\" fill-rule=\\\"evenodd\\\" fill=\\\"\" + _this.options.dotColor + \"\\\"/></svg>\";\n                    _this.globalStyles = document.createElement('style');\n                    _this.globalStyles.setAttribute('data-blobity-global-styles', '');\n                    _this.globalStyles.appendChild(document.createTextNode('* {cursor: inherit}'));\n                    _this.globalStyles.appendChild(document.createTextNode(\"html { cursor: url(data:image/svg+xml;base64,\" + btoa(dot) + \") \" + _this.options.dotSize / 2 + \" \" + _this.options.dotSize / 2 + \", auto;}\"));\n                    document.head.appendChild(_this.globalStyles);\n                }\n            }\n            else {\n                if (_this.globalStyles) {\n                    document.head.removeChild(_this.globalStyles);\n                }\n                _this.globalStyles = undefined;\n            }\n            _this.canvas.style.cssText = \"\\n            position: fixed;\\n            z-index: -1;\\n            top: 0;\\n            left: 0;\\n            pointer-events: none;\\n            opacity: 1;\\n            will-change: transform;\\n            overflow: visible;\\n            opacity: \" + _this.options.opacity + \"; \\n            z-index: \" + (_this.options.invert ? 2147483647 : _this.options.zIndex) + \"; \\n            \" + (_this.options.invert && 'mix-blend-mode: difference') + \";\\n        \";\n            _this.currentOffsetX = _this.options.focusableElementsOffsetX;\n            _this.currentOffsetY = _this.options.focusableElementsOffsetY;\n            _this.resize();\n            if (_this.kinetInstance) {\n                Object.entries(_this.kinetInstance._instances)\n                    .filter(function (_a) {\n                    var _b = __read(_a, 1), name = _b[0];\n                    return name !== 'scale';\n                })\n                    .forEach(function (_a) {\n                    var _b = __read(_a, 2), instance = _b[1];\n                    instance._friction =\n                        1 - _this.kinetPresets[_this.options.mode].friction;\n                    instance._acceleration =\n                        _this.kinetPresets[_this.options.mode].acceleration;\n                });\n                if (!_this.stickedToElement && !_this.sticketToElementTooltip) {\n                    if (newOptions.radius !== undefined) {\n                        _this.kinetInstance[_this.kinetDefaultMethod]('radius', _this.options.radius);\n                    }\n                    _this.kinetInstance[_this.kinetDefaultMethod]('width', _this.options.size);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('height', _this.options.size);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('x', _this.lastKnownCoordinates.x - _this.options.size / 2);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('y', _this.lastKnownCoordinates.y - _this.options.size / 2);\n                }\n            }\n        };\n        this.destroy = function () {\n            if (_this.destroyed) {\n                return;\n            }\n            window.removeEventListener('resize', _this.resize);\n            window.removeEventListener('mousemove', _this.throttledMouseMove);\n            document.removeEventListener('mouseenter', _this.windowMouseEnter);\n            document.removeEventListener('mouseleave', _this.windowMouseLeave);\n            document.removeEventListener('mouseover', _this.focusableElementMouseEnter);\n            document.removeEventListener('mouseout', _this.focusableElementMouseLeave);\n            document.removeEventListener('touchstart', _this.disable);\n            document.removeEventListener('touchend', _this.disable);\n            document.removeEventListener('mousemove', _this.enable);\n            _this.prefersReducedMotionMediaQuery.removeEventListener('change', _this.updatePrefersReducedMotionSetting);\n            document.body.removeChild(_this.canvas);\n            document.documentElement.style.cursor = '';\n            if (_this.globalStyles) {\n                document.head.removeChild(_this.globalStyles);\n            }\n            _this.destroyed = true;\n        };\n        this.disable = function () {\n            // sometimes we can have false positive enable called right after\n            // so we save the time here so we can prevent it in enable method\n            _this.disableTimeStamp = new Date().getTime();\n            _this.isActive = false;\n            _this.clear();\n        };\n        this.enable = function () {\n            var disableAge = new Date().getTime() - _this.disableTimeStamp;\n            if (disableAge > 16) {\n                // let's take one cca frame as a limit\n                _this.isActive = true;\n            }\n        };\n        this.updatePrefersReducedMotionSetting = function () {\n            _this.reduceMotionSetting = _this.prefersReducedMotionMediaQuery.matches;\n            _this.kinetDefaultMethod = _this.reduceMotionSetting ? 'set' : 'animate';\n        };\n        this.focusElement = function (element) {\n            _this.manuallySetTooltipText = null;\n            _this.manuallySetFocusedElement = element;\n            _this.highlightElement(element);\n        };\n        this.showTooltip = function (text) {\n            _this.manuallySetFocusedElement = null;\n            _this.manuallySetTooltipText = text;\n            _this.displayTooltip(text, _this.lastKnownCoordinates.x, _this.lastKnownCoordinates.y);\n        };\n        this.reset = function () {\n            _this.manuallySetFocusedElement = null;\n            _this.manuallySetTooltipText = null;\n            if (_this.activeTooltip) {\n                _this.displayTooltip(_this.activeTooltip, _this.lastKnownCoordinates.x, _this.lastKnownCoordinates.y);\n                return;\n            }\n            if (_this.activeFocusedElement) {\n                _this.highlightElement(_this.activeFocusedElement);\n                return;\n            }\n            _this.resetMorph(_this.lastKnownCoordinates.x - _this.options.size / 2, _this.lastKnownCoordinates.y - _this.options.size / 2);\n        };\n        this.focusableElementMouseEnter = function (event) {\n            if (_this.isActive && event.target) {\n                var element_1 = event.target.closest(_this.options.focusableElements);\n                if (element_1) {\n                    _this.stickedToElement = element_1;\n                    var tooltip = element_1.getAttribute('data-blobity-tooltip');\n                    if (element_1 && tooltip != undefined) {\n                        _this.sticketToElementTooltip = tooltip;\n                    }\n                    _this.currentOffsetX = element_1.getAttribute('data-blobity-offset-x')\n                        ? parseInt(String(element_1.getAttribute('data-blobity-offset-x')))\n                        : _this.options.focusableElementsOffsetX;\n                    _this.currentOffsetY = element_1.getAttribute('data-blobity-offset-y')\n                        ? parseInt(String(element_1.getAttribute('data-blobity-offset-y')))\n                        : _this.options.focusableElementsOffsetY;\n                    _this.stickedToElementMutationObserver.observe(document.body, {\n                        childList: true,\n                        subtree: true,\n                    });\n                    var magnetic = element_1.getAttribute('data-blobity-magnetic');\n                    if (!_this.reduceMotionSetting) {\n                        if (magnetic === 'true' ||\n                            (_this.options.magnetic && magnetic !== 'false')) {\n                            _this.currentMagnetic = new Magnetic_1.default(element_1);\n                            _this.currentMagnetic.onTick = function () {\n                                if (!_this.activeTooltip &&\n                                    _this.activeFocusedElement === element_1) {\n                                    var _a = element_1.getBoundingClientRect(), width = _a.width, height = _a.height, x = _a.x, y = _a.y;\n                                    var radius = element_1.getAttribute('data-blobity-radius');\n                                    _this.kinetInstance[_this.kinetDefaultMethod]('textOpacity', 0);\n                                    _this.morph({\n                                        width: width + _this.currentOffsetX * 2,\n                                        height: height + _this.currentOffsetY * 2,\n                                        x: x - _this.currentOffsetX,\n                                        y: y - _this.currentOffsetY,\n                                    }, radius != undefined\n                                        ? parseInt(radius)\n                                        : _this.options.radius);\n                                }\n                            };\n                        }\n                    }\n                }\n            }\n        };\n        this.focusableElementMouseLeave = function (event) {\n            if (event.target) {\n                var element = event.target.closest(_this.options.focusableElements);\n                if (element) {\n                    _this.resetStickedToElement();\n                    _this.resetStickedToElementMutationObserver();\n                    _this.currentOffsetX = _this.options.focusableElementsOffsetX;\n                    _this.currentOffsetY = _this.options.focusableElementsOffsetY;\n                    _this.resetMagnetic();\n                    _this.resetMorph(event.clientX, event.clientY);\n                }\n            }\n        };\n        this.mouseDown = function () {\n            _this.kinetInstance[_this.kinetDefaultMethod]('scale', 97);\n        };\n        this.mouseUp = function () {\n            _this.bounce();\n        };\n        this.windowMouseEnter = function () {\n            _this.kinetInstance[_this.kinetDefaultMethod]('opacity', 1);\n        };\n        this.windowMouseLeave = function () {\n            _this.kinetInstance[_this.kinetDefaultMethod]('opacity', 0);\n        };\n        this.highlightElement = function (element) {\n            var _a = element.getBoundingClientRect(), width = _a.width, height = _a.height, x = _a.x, y = _a.y;\n            var radius = element.getAttribute('data-blobity-radius');\n            _this.kinetInstance[_this.kinetDefaultMethod]('textOpacity', 0);\n            _this.morph({\n                width: width + _this.currentOffsetX * 2,\n                height: height + _this.currentOffsetY * 2,\n                x: x - _this.currentOffsetX,\n                y: y - _this.currentOffsetY,\n            }, radius != undefined ? parseInt(radius) : _this.options.radius);\n        };\n        this.displayTooltip = function (text, x, y) {\n            _this.ctx.font = _this.options.fontWeight + \" \" + _this.options.fontSize + \"px \" + _this.options.font;\n            _this.ctx.textBaseline = 'bottom';\n            _this.ctx.textAlign = 'left';\n            var _a = _this.ctx.measureText(text), actualBoundingBoxAscent = _a.actualBoundingBoxAscent, width = _a.width;\n            var padding = _this.options.tooltipPadding * 2;\n            _this.kinetInstance[_this.kinetDefaultMethod]('textOpacity', 100);\n            _this.morph({\n                x: x + 6,\n                y: y + 6,\n                width: width + padding,\n                height: actualBoundingBoxAscent + padding,\n            }, 4);\n        };\n        this.mouseMove = function (event) {\n            if (_this.initialized) {\n                _this.lastKnownCoordinates = {\n                    x: event.clientX,\n                    y: event.clientY,\n                };\n                if (_this.activeTooltip) {\n                    _this.displayTooltip(_this.activeTooltip, event.clientX, event.clientY);\n                }\n                else if (_this.activeFocusedElement) {\n                    _this.highlightElement(_this.activeFocusedElement);\n                }\n                else {\n                    _this.kinetInstance[_this.kinetDefaultMethod]('textOpacity', 0);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('x', event.clientX - _this.options.size / 2);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('y', event.clientY - _this.options.size / 2);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('width', _this.options.size);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('height', _this.options.size);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('radius', _this.options.size / 2);\n                }\n            }\n            else {\n                _this.initialized = true;\n                _this.kinetInstance.set('x', event.clientX - _this.options.size / 2);\n                _this.kinetInstance.set('y', event.clientY - _this.options.size / 2);\n                _this.kinetInstance[_this.kinetDefaultMethod]('opacity', 1);\n            }\n        };\n        this.resetMorph = function (x, y) {\n            _this.disablingStickedToElementTimeout = setTimeout(function () {\n                _this.kinetInstance[_this.kinetDefaultMethod]('width', _this.options.size);\n                _this.kinetInstance[_this.kinetDefaultMethod]('height', _this.options.size);\n                _this.kinetInstance[_this.kinetDefaultMethod]('radius', _this.options.size / 2);\n                _this.kinetInstance[_this.kinetDefaultMethod]('x', x);\n                _this.kinetInstance[_this.kinetDefaultMethod]('y', y);\n            });\n        };\n        this.clear = function () {\n            _this.ctx.resetTransform();\n            _this.ctx.rotate(0);\n            _this.ctx.clearRect(-20, -20, window.innerWidth * window.devicePixelRatio + 20, window.innerHeight * window.devicePixelRatio + 20);\n        };\n        this.resize = function () {\n            _this.ctx.canvas.style.width = window.innerWidth + \"px\";\n            _this.ctx.canvas.style.height = window.innerHeight + \"px\";\n            _this.ctx.canvas.width = window.innerWidth * window.devicePixelRatio;\n            _this.ctx.canvas.height = window.innerHeight * window.devicePixelRatio;\n            if (window.devicePixelRatio > 1) {\n                _this.ctx.imageSmoothingEnabled = false;\n            }\n        };\n        this.resetStickedToElement = function () {\n            _this.stickedToElement = null;\n            _this.sticketToElementTooltip = null;\n        };\n        this.resetStickedToElementMutationObserver = function () {\n            _this.stickedToElementMutationObserver.disconnect();\n        };\n        this.resetMagnetic = function () {\n            if (_this.currentMagnetic) {\n                _this.currentMagnetic.destroy();\n                _this.currentMagnetic.onTick = null;\n                _this.currentMagnetic = null;\n            }\n        };\n        this.canvas = document.createElement('canvas');\n        document.body.appendChild(this.canvas);\n        this.ctx = this.canvas.getContext('2d');\n        this.updateOptions(__assign({}, options));\n        if (!this.options.licenseKey) {\n            console.warn('Valid license number for Blobity is required. You can get one at https://blobity.gmrchk.com.');\n        }\n        this.kinetInstance = new kinet_1.default({\n            names: [\n                'x',\n                'y',\n                'opacity',\n                'textOpacity',\n                'width',\n                'height',\n                'radius',\n                'scale',\n            ],\n            acceleration: this.kinetPresets[this.options.mode].acceleration,\n            friction: this.kinetPresets[this.options.mode].friction,\n        });\n        this.kinetInstance._instances.scale._acceleration = 0.06;\n        this.kinetInstance._instances.scale._friction = 1 - 0.1;\n        this.kinetInstance.set('x', window.innerWidth / 2);\n        this.kinetInstance.set('y', window.innerHeight / 2);\n        this.kinetInstance.set('width', this.options.size);\n        this.kinetInstance.set('height', this.options.size);\n        this.kinetInstance.set('opacity', 0);\n        this.kinetInstance.set('textOpacity', 0);\n        this.kinetInstance.set('radius', this.options.size / 2);\n        this.kinetInstance.set('scale', 100);\n        this.kinetInstance.on('tick', function (instances) {\n            _this.render(instances.x.current, instances.y.current, instances.width.current, instances.height.current, instances.radius.current, instances.x.velocity, instances.y.velocity, instances.opacity.current, instances.scale.current, instances.textOpacity.current);\n        });\n        this.throttledMouseMove = throttle_1.default(this.mouseMove);\n        window.addEventListener('resize', this.resize, { passive: true });\n        this.resize();\n        window.addEventListener('mousemove', this.throttledMouseMove, {\n            passive: true,\n        });\n        document.addEventListener('mouseenter', this.windowMouseEnter);\n        document.addEventListener('mouseleave', this.windowMouseLeave);\n        document.addEventListener('mouseover', this.focusableElementMouseEnter);\n        document.addEventListener('mouseout', this.focusableElementMouseLeave);\n        document.addEventListener('mousedown', this.mouseDown);\n        document.addEventListener('mouseup', this.mouseUp);\n        document.addEventListener('touchstart', this.disable);\n        document.addEventListener('touchend', this.disable);\n        document.addEventListener('mousemove', this.enable, {\n            passive: true,\n        });\n        this.prefersReducedMotionMediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n        this.prefersReducedMotionMediaQuery.addEventListener('change', this.updatePrefersReducedMotionSetting);\n        this.updatePrefersReducedMotionSetting();\n        this.stickedToElementMutationObserver = new MutationObserver(function (mutations) {\n            var e_1, _a, e_2, _b;\n            try {\n                for (var mutations_1 = __values(mutations), mutations_1_1 = mutations_1.next(); !mutations_1_1.done; mutations_1_1 = mutations_1.next()) {\n                    var mutation = mutations_1_1.value;\n                    try {\n                        for (var _c = (e_2 = void 0, __values(mutation.removedNodes)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                            var el = _d.value;\n                            if (el === _this.stickedToElement || el.contains(_this.stickedToElement)) {\n                                _this.resetStickedToElement();\n                                _this.resetStickedToElementMutationObserver();\n                                _this.resetMagnetic();\n                                _this.reset();\n                            }\n                        }\n                    }\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                    finally {\n                        try {\n                            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (mutations_1_1 && !mutations_1_1.done && (_a = mutations_1.return)) _a.call(mutations_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        });\n    }\n    Blobity.prototype.bounce = function () {\n        if (this.reduceMotionSetting) {\n            this.kinetInstance.set('scale', 100);\n        }\n        else {\n            this.kinetInstance.set('scale', 97);\n            this.kinetInstance._instances.scale.velocity = 3;\n            this.kinetInstance.animate('scale', 100);\n        }\n    };\n    Object.defineProperty(Blobity.prototype, \"activeTooltip\", {\n        get: function () {\n            return this.manuallySetTooltipText || this.sticketToElementTooltip;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Blobity.prototype, \"activeFocusedElement\", {\n        get: function () {\n            return this.manuallySetFocusedElement || this.stickedToElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Blobity.prototype.morph = function (_a, radius) {\n        var width = _a.width, height = _a.height, x = _a.x, y = _a.y;\n        if (this.disablingStickedToElementTimeout) {\n            clearTimeout(this.disablingStickedToElementTimeout);\n        }\n        this.kinetInstance[this.kinetDefaultMethod]('radius', radius);\n        this.kinetInstance[this.kinetDefaultMethod]('width', width);\n        this.kinetInstance[this.kinetDefaultMethod]('height', height);\n        this.kinetInstance[this.kinetDefaultMethod]('x', x);\n        this.kinetInstance[this.kinetDefaultMethod]('y', y);\n    };\n    Blobity.prototype.render = function (x, y, width, height, radius, velocityX, velocityY, opacity, scale, textOpacity) {\n        this.clear();\n        var maxDelta = this.activeFocusedElement\n            ? 0\n            : (this.options.size / 8) * 7;\n        x = x * window.devicePixelRatio;\n        y = y * window.devicePixelRatio;\n        width =\n            (this.activeTooltip ? width : Math.max(width, maxDelta)) *\n                window.devicePixelRatio;\n        height =\n            (this.activeTooltip ? height : Math.max(height, maxDelta)) *\n                window.devicePixelRatio;\n        radius = radius * window.devicePixelRatio;\n        velocityX = velocityX * window.devicePixelRatio;\n        velocityY = velocityY * window.devicePixelRatio;\n        if (this.isActive) {\n            var ctx = this.ctx;\n            ctx.globalAlpha = opacity;\n            ctx.setTransform(scale / 100, 0, 0, scale / 100, x, y);\n            ctx.translate(width, height);\n            ctx.scale(scale / 100, scale / 100);\n            ctx.translate(-width, -height);\n            var activateBlur = this.options.kineticMorphing &&\n                Math.abs(width - this.options.size * window.devicePixelRatio) <\n                    2 &&\n                Math.abs(height - this.options.size * window.devicePixelRatio) <\n                    2 &&\n                Math.abs(radius - (this.options.size * window.devicePixelRatio) / 2) < 2;\n            if (activateBlur) {\n                var angle = (Math.atan2(velocityY, velocityX) * 180) / Math.PI + 180;\n                ctx.translate(radius, radius);\n                ctx.rotate((angle * Math.PI) / 180);\n                ctx.translate(-radius, -radius);\n            }\n            var cumulativeVelocity = activateBlur\n                ? Math.min(Math.sqrt(Math.pow(Math.abs(velocityX), 2) +\n                    Math.pow(Math.abs(velocityY), 2)) * 2, // so the distortion starts sooner\n                60 // shape becomes too distorted once velocity is too big\n                ) / 2\n                : 0;\n            ctx.beginPath();\n            ctx.moveTo(radius, 0);\n            ctx.arcTo(width + cumulativeVelocity, cumulativeVelocity / 2, width + cumulativeVelocity, height + cumulativeVelocity / 2, helpers_1.positive(radius - cumulativeVelocity / 2));\n            ctx.arcTo(width + cumulativeVelocity, height - cumulativeVelocity / 2, cumulativeVelocity, height - cumulativeVelocity / 2, helpers_1.positive(radius - cumulativeVelocity / 2));\n            ctx.arcTo(0, height, 0, 0, helpers_1.positive(radius));\n            ctx.arcTo(0, 0, width, 0, helpers_1.positive(radius));\n            ctx.closePath();\n            if (helpers_1.isGradient(this.color)) {\n                var gradient_1 = ctx.createLinearGradient(0, 0, width, height);\n                var length_1 = this.color.length;\n                this.color.forEach(function (color, index) {\n                    gradient_1.addColorStop((1 / (length_1 - 1)) * index, \"rgb(\" + color.r + \", \" + color.g + \", \" + color.b + \")\");\n                });\n                ctx.fillStyle = gradient_1;\n            }\n            else {\n                ctx.fillStyle = \"rgb(\" + this.color.r + \", \" + this.color.g + \", \" + this.color.b + \")\";\n            }\n            ctx.fill();\n            if (this.activeTooltip) {\n                ctx.setTransform(scale / 100, 0, 0, scale / 100, x, y);\n                this.ctx.textBaseline = 'top';\n                this.ctx.textAlign = 'left';\n                this.ctx.font = this.options.fontWeight + \" \" + this.options.fontSize *\n                    window.devicePixelRatio *\n                    (scale / 100) + \"px \" + this.options.font;\n                ctx.fillStyle = \"rgba(\\n                    \" + this.fontColor.r + \", \" + this.fontColor.g + \", \\n                    \" + this.fontColor.b + \", \" + textOpacity / 100 + \")\";\n                ctx.fillText(this.activeTooltip, this.options.tooltipPadding * window.devicePixelRatio -\n                    ((scale - 100) / 100) * width, this.options.tooltipPadding * window.devicePixelRatio -\n                    ((scale - 100) / 100) * height);\n            }\n        }\n    };\n    return Blobity;\n}());\nexports[\"default\"] = Blobity;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvQmxvYml0eS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsTUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQ0FBaUMsbUJBQU8sQ0FBQyxnRUFBaUI7QUFDMUQsOEJBQThCLG1CQUFPLENBQUMsc0RBQU87QUFDN0MsZ0JBQWdCLG1CQUFPLENBQUMsOERBQVc7QUFDbkMsaUNBQWlDLG1CQUFPLENBQUMsZ0VBQVk7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0EseUVBQXlFLHVDQUF1QztBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGdCQUFnQjtBQUMvRixtRkFBbUYsK0JBQStCLHFHQUFxRztBQUN2TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsMEJBQTBCLHFCQUFxQixzQkFBc0IsbUNBQW1DLHlCQUF5QixxQ0FBcUMsZ0NBQWdDLHNEQUFzRCwyRkFBMkYsNkVBQTZFO0FBQzVlO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHlEQUF5RCxlQUFlO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0cscUJBQXFCO0FBQ3JIO0FBQ0E7QUFDQSx1R0FBdUcsVUFBVTtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtaS1mb2xpby8uL25vZGVfbW9kdWxlcy9ibG9iaXR5L2xpYi9CbG9iaXR5LmpzP2VmNGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRocm90dGxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC90aHJvdHRsZVwiKSk7XG52YXIga2luZXRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwia2luZXRcIikpO1xudmFyIGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuL2hlbHBlcnNcIik7XG52YXIgTWFnbmV0aWNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9NYWduZXRpY1wiKSk7XG52YXIgQmxvYml0eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCbG9iaXR5KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgY29sb3I6ICdyZ2IoMTgwLCAxODAsIDE4MCknLFxuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIGxpY2Vuc2VLZXk6IG51bGwsXG4gICAgICAgICAgICBzaXplOiA0MCxcbiAgICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRzOiAnW2RhdGEtYmxvYml0eV0sIGE6bm90KFtkYXRhLW5vLWJsb2JpdHldKSwgYnV0dG9uOm5vdChbZGF0YS1uby1ibG9iaXR5XSksIFtkYXRhLWJsb2JpdHktdG9vbHRpcF0nLFxuICAgICAgICAgICAgZm9jdXNhYmxlRWxlbWVudHNPZmZzZXRYOiAwLFxuICAgICAgICAgICAgZm9jdXNhYmxlRWxlbWVudHNPZmZzZXRZOiAwLFxuICAgICAgICAgICAgekluZGV4OiAtMSxcbiAgICAgICAgICAgIGludmVydDogZmFsc2UsXG4gICAgICAgICAgICBkb3RDb2xvcjogbnVsbCxcbiAgICAgICAgICAgIGRvdFNpemU6IDgsXG4gICAgICAgICAgICBtYWduZXRpYzogdHJ1ZSxcbiAgICAgICAgICAgIG1vZGU6ICdub3JtYWwnLFxuICAgICAgICAgICAgcmFkaXVzOiA0LFxuICAgICAgICAgICAgZm9udDogJ3NhbnMtc2VyaWYnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogNDAwLFxuICAgICAgICAgICAgZm9udFNpemU6IDQwLFxuICAgICAgICAgICAgZm9udENvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICB0b29sdGlwUGFkZGluZzogMTIsXG4gICAgICAgICAgICBraW5ldGljTW9ycGhpbmc6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb2xvciA9IHsgcjogMCwgZzogMCwgYjogMCB9O1xuICAgICAgICB0aGlzLmZvbnRDb2xvciA9IHsgcjogMCwgZzogMCwgYjogMCB9O1xuICAgICAgICB0aGlzLnN0aWNrZWRUb0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0aWNrZXRUb0VsZW1lbnRUb29sdGlwID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXNhYmxpbmdTdGlja2VkVG9FbGVtZW50VGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRNYWduZXRpYyA9IG51bGw7XG4gICAgICAgIHRoaXMua2luZXRQcmVzZXRzID0ge1xuICAgICAgICAgICAgbm9ybWFsOiB7XG4gICAgICAgICAgICAgICAgYWNjZWxlcmF0aW9uOiAwLjEsXG4gICAgICAgICAgICAgICAgZnJpY3Rpb246IDAuMzUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm91bmN5OiB7XG4gICAgICAgICAgICAgICAgYWNjZWxlcmF0aW9uOiAwLjEsXG4gICAgICAgICAgICAgICAgZnJpY3Rpb246IDAuMjgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvdzoge1xuICAgICAgICAgICAgICAgIGFjY2VsZXJhdGlvbjogMC4wNixcbiAgICAgICAgICAgICAgICBmcmljdGlvbjogMC4zNSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGFzdEtub3duQ29vcmRpbmF0ZXMgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0WCA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudE9mZnNldFkgPSAwO1xuICAgICAgICB0aGlzLm1hbnVhbGx5U2V0Rm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm1hbnVhbGx5U2V0VG9vbHRpcFRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmRpc2FibGVUaW1lU3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdGhpcy5yZWR1Y2VNb3Rpb25TZXR0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMua2luZXREZWZhdWx0TWV0aG9kID0gJ2FuaW1hdGUnO1xuICAgICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMgPSBmdW5jdGlvbiAobmV3T3B0aW9ucykge1xuICAgICAgICAgICAgX3RoaXMub3B0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBfdGhpcy5vcHRpb25zKSwgbmV3T3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfdGhpcy5vcHRpb25zLmNvbG9yKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbG9yID0gX3RoaXMub3B0aW9ucy5jb2xvci5tYXAoZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiBoZWxwZXJzXzEuY29udmVydENvbG9yKGNvbG9yKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb2xvciA9IGhlbHBlcnNfMS5jb252ZXJ0Q29sb3IoX3RoaXMub3B0aW9ucy5jb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5mb250Q29sb3IgPSBoZWxwZXJzXzEuY29udmVydENvbG9yKF90aGlzLm9wdGlvbnMuZm9udENvbG9yKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmludmVydCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbG9yID0gaGVscGVyc18xLmNvbnZlcnRDb2xvcigncmdiKDI1NSwgMjU1LCAyNTUpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5kb3RDb2xvcikge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5nbG9iYWxTdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChfdGhpcy5nbG9iYWxTdHlsZXMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nbG9iYWxTdHlsZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuZ2xvYmFsU3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkb3QgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiXCIgKyBfdGhpcy5vcHRpb25zLmRvdFNpemUgKyBcIlxcXCIgaGVpZ2h0PVxcXCJcIiArIF90aGlzLm9wdGlvbnMuZG90U2l6ZSArIFwiXFxcIlxcbiAgICAgICAgICAgICAgICB2aWV3Qm94PVxcXCIwIDAgOCA4XFxcIj48Y2lyY2xlIGN4PVxcXCI0XFxcIiBjeT1cXFwiNFxcXCIgcj1cXFwiNFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBmaWxsPVxcXCJcIiArIF90aGlzLm9wdGlvbnMuZG90Q29sb3IgKyBcIlxcXCIvPjwvc3ZnPlwiO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nbG9iYWxTdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nbG9iYWxTdHlsZXMuc2V0QXR0cmlidXRlKCdkYXRhLWJsb2JpdHktZ2xvYmFsLXN0eWxlcycsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2xvYmFsU3R5bGVzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcqIHtjdXJzb3I6IGluaGVyaXR9JykpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nbG9iYWxTdHlsZXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJodG1sIHsgY3Vyc29yOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxcIiArIGJ0b2EoZG90KSArIFwiKSBcIiArIF90aGlzLm9wdGlvbnMuZG90U2l6ZSAvIDIgKyBcIiBcIiArIF90aGlzLm9wdGlvbnMuZG90U2l6ZSAvIDIgKyBcIiwgYXV0bzt9XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChfdGhpcy5nbG9iYWxTdHlsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5nbG9iYWxTdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChfdGhpcy5nbG9iYWxTdHlsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5nbG9iYWxTdHlsZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5jYW52YXMuc3R5bGUuY3NzVGV4dCA9IFwiXFxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICAgICAgICAgIHotaW5kZXg6IC0xO1xcbiAgICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgICAgICBsZWZ0OiAwO1xcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgICAgICAgICAgIG9wYWNpdHk6IDE7XFxuICAgICAgICAgICAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcXG4gICAgICAgICAgICBvdmVyZmxvdzogdmlzaWJsZTtcXG4gICAgICAgICAgICBvcGFjaXR5OiBcIiArIF90aGlzLm9wdGlvbnMub3BhY2l0eSArIFwiOyBcXG4gICAgICAgICAgICB6LWluZGV4OiBcIiArIChfdGhpcy5vcHRpb25zLmludmVydCA/IDIxNDc0ODM2NDcgOiBfdGhpcy5vcHRpb25zLnpJbmRleCkgKyBcIjsgXFxuICAgICAgICAgICAgXCIgKyAoX3RoaXMub3B0aW9ucy5pbnZlcnQgJiYgJ21peC1ibGVuZC1tb2RlOiBkaWZmZXJlbmNlJykgKyBcIjtcXG4gICAgICAgIFwiO1xuICAgICAgICAgICAgX3RoaXMuY3VycmVudE9mZnNldFggPSBfdGhpcy5vcHRpb25zLmZvY3VzYWJsZUVsZW1lbnRzT2Zmc2V0WDtcbiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRPZmZzZXRZID0gX3RoaXMub3B0aW9ucy5mb2N1c2FibGVFbGVtZW50c09mZnNldFk7XG4gICAgICAgICAgICBfdGhpcy5yZXNpemUoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5raW5ldEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoX3RoaXMua2luZXRJbnN0YW5jZS5faW5zdGFuY2VzKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDEpLCBuYW1lID0gX2JbMF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lICE9PSAnc2NhbGUnO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDIpLCBpbnN0YW5jZSA9IF9iWzFdO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fZnJpY3Rpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgMSAtIF90aGlzLmtpbmV0UHJlc2V0c1tfdGhpcy5vcHRpb25zLm1vZGVdLmZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fYWNjZWxlcmF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0UHJlc2V0c1tfdGhpcy5vcHRpb25zLm1vZGVdLmFjY2VsZXJhdGlvbjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnN0aWNrZWRUb0VsZW1lbnQgJiYgIV90aGlzLnN0aWNrZXRUb0VsZW1lbnRUb29sdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdPcHRpb25zLnJhZGl1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3JhZGl1cycsIF90aGlzLm9wdGlvbnMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3dpZHRoJywgX3RoaXMub3B0aW9ucy5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCdoZWlnaHQnLCBfdGhpcy5vcHRpb25zLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3gnLCBfdGhpcy5sYXN0S25vd25Db29yZGluYXRlcy54IC0gX3RoaXMub3B0aW9ucy5zaXplIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgneScsIF90aGlzLmxhc3RLbm93bkNvb3JkaW5hdGVzLnkgLSBfdGhpcy5vcHRpb25zLnNpemUgLyAyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgX3RoaXMucmVzaXplKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy50aHJvdHRsZWRNb3VzZU1vdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIF90aGlzLndpbmRvd01vdXNlRW50ZXIpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIF90aGlzLndpbmRvd01vdXNlTGVhdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgX3RoaXMuZm9jdXNhYmxlRWxlbWVudE1vdXNlRW50ZXIpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBfdGhpcy5mb2N1c2FibGVFbGVtZW50TW91c2VMZWF2ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgX3RoaXMuZGlzYWJsZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIF90aGlzLmRpc2FibGUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMuZW5hYmxlKTtcbiAgICAgICAgICAgIF90aGlzLnByZWZlcnNSZWR1Y2VkTW90aW9uTWVkaWFRdWVyeS5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBfdGhpcy51cGRhdGVQcmVmZXJzUmVkdWNlZE1vdGlvblNldHRpbmcpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChfdGhpcy5jYW52YXMpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmN1cnNvciA9ICcnO1xuICAgICAgICAgICAgaWYgKF90aGlzLmdsb2JhbFN0eWxlcykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoX3RoaXMuZ2xvYmFsU3R5bGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHNvbWV0aW1lcyB3ZSBjYW4gaGF2ZSBmYWxzZSBwb3NpdGl2ZSBlbmFibGUgY2FsbGVkIHJpZ2h0IGFmdGVyXG4gICAgICAgICAgICAvLyBzbyB3ZSBzYXZlIHRoZSB0aW1lIGhlcmUgc28gd2UgY2FuIHByZXZlbnQgaXQgaW4gZW5hYmxlIG1ldGhvZFxuICAgICAgICAgICAgX3RoaXMuZGlzYWJsZVRpbWVTdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLmNsZWFyKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRpc2FibGVBZ2UgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIF90aGlzLmRpc2FibGVUaW1lU3RhbXA7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZUFnZSA+IDE2KSB7XG4gICAgICAgICAgICAgICAgLy8gbGV0J3MgdGFrZSBvbmUgY2NhIGZyYW1lIGFzIGEgbGltaXRcbiAgICAgICAgICAgICAgICBfdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlUHJlZmVyc1JlZHVjZWRNb3Rpb25TZXR0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVkdWNlTW90aW9uU2V0dGluZyA9IF90aGlzLnByZWZlcnNSZWR1Y2VkTW90aW9uTWVkaWFRdWVyeS5tYXRjaGVzO1xuICAgICAgICAgICAgX3RoaXMua2luZXREZWZhdWx0TWV0aG9kID0gX3RoaXMucmVkdWNlTW90aW9uU2V0dGluZyA/ICdzZXQnIDogJ2FuaW1hdGUnO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZvY3VzRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5tYW51YWxseVNldFRvb2x0aXBUZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLm1hbnVhbGx5U2V0Rm9jdXNlZEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgX3RoaXMuaGlnaGxpZ2h0RWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zaG93VG9vbHRpcCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICBfdGhpcy5tYW51YWxseVNldEZvY3VzZWRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLm1hbnVhbGx5U2V0VG9vbHRpcFRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgX3RoaXMuZGlzcGxheVRvb2x0aXAodGV4dCwgX3RoaXMubGFzdEtub3duQ29vcmRpbmF0ZXMueCwgX3RoaXMubGFzdEtub3duQ29vcmRpbmF0ZXMueSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5tYW51YWxseVNldEZvY3VzZWRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLm1hbnVhbGx5U2V0VG9vbHRpcFRleHQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKF90aGlzLmFjdGl2ZVRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXNwbGF5VG9vbHRpcChfdGhpcy5hY3RpdmVUb29sdGlwLCBfdGhpcy5sYXN0S25vd25Db29yZGluYXRlcy54LCBfdGhpcy5sYXN0S25vd25Db29yZGluYXRlcy55KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuYWN0aXZlRm9jdXNlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWdobGlnaHRFbGVtZW50KF90aGlzLmFjdGl2ZUZvY3VzZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5yZXNldE1vcnBoKF90aGlzLmxhc3RLbm93bkNvb3JkaW5hdGVzLnggLSBfdGhpcy5vcHRpb25zLnNpemUgLyAyLCBfdGhpcy5sYXN0S25vd25Db29yZGluYXRlcy55IC0gX3RoaXMub3B0aW9ucy5zaXplIC8gMik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZm9jdXNhYmxlRWxlbWVudE1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0FjdGl2ZSAmJiBldmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudF8xID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoX3RoaXMub3B0aW9ucy5mb2N1c2FibGVFbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRfMSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGlja2VkVG9FbGVtZW50ID0gZWxlbWVudF8xO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9vbHRpcCA9IGVsZW1lbnRfMS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmxvYml0eS10b29sdGlwJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50XzEgJiYgdG9vbHRpcCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0aWNrZXRUb0VsZW1lbnRUb29sdGlwID0gdG9vbHRpcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50T2Zmc2V0WCA9IGVsZW1lbnRfMS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmxvYml0eS1vZmZzZXQteCcpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KFN0cmluZyhlbGVtZW50XzEuZ2V0QXR0cmlidXRlKCdkYXRhLWJsb2JpdHktb2Zmc2V0LXgnKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IF90aGlzLm9wdGlvbnMuZm9jdXNhYmxlRWxlbWVudHNPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50T2Zmc2V0WSA9IGVsZW1lbnRfMS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmxvYml0eS1vZmZzZXQteScpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KFN0cmluZyhlbGVtZW50XzEuZ2V0QXR0cmlidXRlKCdkYXRhLWJsb2JpdHktb2Zmc2V0LXknKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IF90aGlzLm9wdGlvbnMuZm9jdXNhYmxlRWxlbWVudHNPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGlja2VkVG9FbGVtZW50TXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFnbmV0aWMgPSBlbGVtZW50XzEuZ2V0QXR0cmlidXRlKCdkYXRhLWJsb2JpdHktbWFnbmV0aWMnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5yZWR1Y2VNb3Rpb25TZXR0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFnbmV0aWMgPT09ICd0cnVlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfdGhpcy5vcHRpb25zLm1hZ25ldGljICYmIG1hZ25ldGljICE9PSAnZmFsc2UnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRNYWduZXRpYyA9IG5ldyBNYWduZXRpY18xLmRlZmF1bHQoZWxlbWVudF8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50TWFnbmV0aWMub25UaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmFjdGl2ZVRvb2x0aXAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZUZvY3VzZWRFbGVtZW50ID09PSBlbGVtZW50XzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IGVsZW1lbnRfMS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCB4ID0gX2EueCwgeSA9IF9hLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gZWxlbWVudF8xLmdldEF0dHJpYnV0ZSgnZGF0YS1ibG9iaXR5LXJhZGl1cycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd0ZXh0T3BhY2l0eScsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubW9ycGgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCArIF90aGlzLmN1cnJlbnRPZmZzZXRYICogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCArIF90aGlzLmN1cnJlbnRPZmZzZXRZICogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB4IC0gX3RoaXMuY3VycmVudE9mZnNldFgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogeSAtIF90aGlzLmN1cnJlbnRPZmZzZXRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmFkaXVzICE9IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyc2VJbnQocmFkaXVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX3RoaXMub3B0aW9ucy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mb2N1c2FibGVFbGVtZW50TW91c2VMZWF2ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoX3RoaXMub3B0aW9ucy5mb2N1c2FibGVFbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzZXRTdGlja2VkVG9FbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0U3RpY2tlZFRvRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudE9mZnNldFggPSBfdGhpcy5vcHRpb25zLmZvY3VzYWJsZUVsZW1lbnRzT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudE9mZnNldFkgPSBfdGhpcy5vcHRpb25zLmZvY3VzYWJsZUVsZW1lbnRzT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzZXRNYWduZXRpYygpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNldE1vcnBoKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3NjYWxlJywgOTcpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5ib3VuY2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53aW5kb3dNb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCdvcGFjaXR5JywgMSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud2luZG93TW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgnb3BhY2l0eScsIDApO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIF9hID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCB4ID0gX2EueCwgeSA9IF9hLnk7XG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmxvYml0eS1yYWRpdXMnKTtcbiAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgndGV4dE9wYWNpdHknLCAwKTtcbiAgICAgICAgICAgIF90aGlzLm1vcnBoKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGggKyBfdGhpcy5jdXJyZW50T2Zmc2V0WCAqIDIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKyBfdGhpcy5jdXJyZW50T2Zmc2V0WSAqIDIsXG4gICAgICAgICAgICAgICAgeDogeCAtIF90aGlzLmN1cnJlbnRPZmZzZXRYLFxuICAgICAgICAgICAgICAgIHk6IHkgLSBfdGhpcy5jdXJyZW50T2Zmc2V0WSxcbiAgICAgICAgICAgIH0sIHJhZGl1cyAhPSB1bmRlZmluZWQgPyBwYXJzZUludChyYWRpdXMpIDogX3RoaXMub3B0aW9ucy5yYWRpdXMpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRpc3BsYXlUb29sdGlwID0gZnVuY3Rpb24gKHRleHQsIHgsIHkpIHtcbiAgICAgICAgICAgIF90aGlzLmN0eC5mb250ID0gX3RoaXMub3B0aW9ucy5mb250V2VpZ2h0ICsgXCIgXCIgKyBfdGhpcy5vcHRpb25zLmZvbnRTaXplICsgXCJweCBcIiArIF90aGlzLm9wdGlvbnMuZm9udDtcbiAgICAgICAgICAgIF90aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJztcbiAgICAgICAgICAgIF90aGlzLmN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5jdHgubWVhc3VyZVRleHQodGV4dCksIGFjdHVhbEJvdW5kaW5nQm94QXNjZW50ID0gX2EuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQsIHdpZHRoID0gX2Eud2lkdGg7XG4gICAgICAgICAgICB2YXIgcGFkZGluZyA9IF90aGlzLm9wdGlvbnMudG9vbHRpcFBhZGRpbmcgKiAyO1xuICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd0ZXh0T3BhY2l0eScsIDEwMCk7XG4gICAgICAgICAgICBfdGhpcy5tb3JwaCh7XG4gICAgICAgICAgICAgICAgeDogeCArIDYsXG4gICAgICAgICAgICAgICAgeTogeSArIDYsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoICsgcGFkZGluZyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgcGFkZGluZyxcbiAgICAgICAgICAgIH0sIDQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubGFzdEtub3duQ29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuYWN0aXZlVG9vbHRpcCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXNwbGF5VG9vbHRpcChfdGhpcy5hY3RpdmVUb29sdGlwLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMuYWN0aXZlRm9jdXNlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlnaGxpZ2h0RWxlbWVudChfdGhpcy5hY3RpdmVGb2N1c2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3RleHRPcGFjaXR5JywgMCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgneCcsIGV2ZW50LmNsaWVudFggLSBfdGhpcy5vcHRpb25zLnNpemUgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd5JywgZXZlbnQuY2xpZW50WSAtIF90aGlzLm9wdGlvbnMuc2l6ZSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3dpZHRoJywgX3RoaXMub3B0aW9ucy5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCdoZWlnaHQnLCBfdGhpcy5vcHRpb25zLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3JhZGl1cycsIF90aGlzLm9wdGlvbnMuc2l6ZSAvIDIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlLnNldCgneCcsIGV2ZW50LmNsaWVudFggLSBfdGhpcy5vcHRpb25zLnNpemUgLyAyKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlLnNldCgneScsIGV2ZW50LmNsaWVudFkgLSBfdGhpcy5vcHRpb25zLnNpemUgLyAyKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ29wYWNpdHknLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXNldE1vcnBoID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIF90aGlzLmRpc2FibGluZ1N0aWNrZWRUb0VsZW1lbnRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd3aWR0aCcsIF90aGlzLm9wdGlvbnMuc2l6ZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCdoZWlnaHQnLCBfdGhpcy5vcHRpb25zLnNpemUpO1xuICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgncmFkaXVzJywgX3RoaXMub3B0aW9ucy5zaXplIC8gMik7XG4gICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd4JywgeCk7XG4gICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd5JywgeSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmN0eC5yZXNldFRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgX3RoaXMuY3R4LnJvdGF0ZSgwKTtcbiAgICAgICAgICAgIF90aGlzLmN0eC5jbGVhclJlY3QoLTIwLCAtMjAsIHdpbmRvdy5pbm5lcldpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8gKyAyMCwgd2luZG93LmlubmVySGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8gKyAyMCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuY3R4LmNhbnZhcy5zdHlsZS53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgX3RoaXMuY3R4LmNhbnZhcy5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICBfdGhpcy5jdHguY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgICAgIF90aGlzLmN0eC5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgICAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc2V0U3RpY2tlZFRvRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnN0aWNrZWRUb0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMuc3RpY2tldFRvRWxlbWVudFRvb2x0aXAgPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc2V0U3RpY2tlZFRvRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zdGlja2VkVG9FbGVtZW50TXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzZXRNYWduZXRpYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jdXJyZW50TWFnbmV0aWMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50TWFnbmV0aWMuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRNYWduZXRpYy5vblRpY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRNYWduZXRpYyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyhfX2Fzc2lnbih7fSwgb3B0aW9ucykpO1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5saWNlbnNlS2V5KSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1ZhbGlkIGxpY2Vuc2UgbnVtYmVyIGZvciBCbG9iaXR5IGlzIHJlcXVpcmVkLiBZb3UgY2FuIGdldCBvbmUgYXQgaHR0cHM6Ly9ibG9iaXR5LmdtcmNoay5jb20uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlID0gbmV3IGtpbmV0XzEuZGVmYXVsdCh7XG4gICAgICAgICAgICBuYW1lczogW1xuICAgICAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICAgICAneScsXG4gICAgICAgICAgICAgICAgJ29wYWNpdHknLFxuICAgICAgICAgICAgICAgICd0ZXh0T3BhY2l0eScsXG4gICAgICAgICAgICAgICAgJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JyxcbiAgICAgICAgICAgICAgICAncmFkaXVzJyxcbiAgICAgICAgICAgICAgICAnc2NhbGUnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbjogdGhpcy5raW5ldFByZXNldHNbdGhpcy5vcHRpb25zLm1vZGVdLmFjY2VsZXJhdGlvbixcbiAgICAgICAgICAgIGZyaWN0aW9uOiB0aGlzLmtpbmV0UHJlc2V0c1t0aGlzLm9wdGlvbnMubW9kZV0uZnJpY3Rpb24sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2UuX2luc3RhbmNlcy5zY2FsZS5fYWNjZWxlcmF0aW9uID0gMC4wNjtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLl9pbnN0YW5jZXMuc2NhbGUuX2ZyaWN0aW9uID0gMSAtIDAuMTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLnNldCgneCcsIHdpbmRvdy5pbm5lcldpZHRoIC8gMik7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5zZXQoJ3knLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLnNldCgnd2lkdGgnLCB0aGlzLm9wdGlvbnMuc2l6ZSk7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5zZXQoJ2hlaWdodCcsIHRoaXMub3B0aW9ucy5zaXplKTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLnNldCgnb3BhY2l0eScsIDApO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2Uuc2V0KCd0ZXh0T3BhY2l0eScsIDApO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2Uuc2V0KCdyYWRpdXMnLCB0aGlzLm9wdGlvbnMuc2l6ZSAvIDIpO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2Uuc2V0KCdzY2FsZScsIDEwMCk7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5vbigndGljaycsIGZ1bmN0aW9uIChpbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIF90aGlzLnJlbmRlcihpbnN0YW5jZXMueC5jdXJyZW50LCBpbnN0YW5jZXMueS5jdXJyZW50LCBpbnN0YW5jZXMud2lkdGguY3VycmVudCwgaW5zdGFuY2VzLmhlaWdodC5jdXJyZW50LCBpbnN0YW5jZXMucmFkaXVzLmN1cnJlbnQsIGluc3RhbmNlcy54LnZlbG9jaXR5LCBpbnN0YW5jZXMueS52ZWxvY2l0eSwgaW5zdGFuY2VzLm9wYWNpdHkuY3VycmVudCwgaW5zdGFuY2VzLnNjYWxlLmN1cnJlbnQsIGluc3RhbmNlcy50ZXh0T3BhY2l0eS5jdXJyZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGhyb3R0bGVkTW91c2VNb3ZlID0gdGhyb3R0bGVfMS5kZWZhdWx0KHRoaXMubW91c2VNb3ZlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLnRocm90dGxlZE1vdXNlTW92ZSwge1xuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLndpbmRvd01vdXNlRW50ZXIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy53aW5kb3dNb3VzZUxlYXZlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5mb2N1c2FibGVFbGVtZW50TW91c2VFbnRlcik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5mb2N1c2FibGVFbGVtZW50TW91c2VMZWF2ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMubW91c2VEb3duKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMubW91c2VVcCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmRpc2FibGUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuZGlzYWJsZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuZW5hYmxlLCB7XG4gICAgICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wcmVmZXJzUmVkdWNlZE1vdGlvbk1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSknKTtcbiAgICAgICAgdGhpcy5wcmVmZXJzUmVkdWNlZE1vdGlvbk1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy51cGRhdGVQcmVmZXJzUmVkdWNlZE1vdGlvblNldHRpbmcpO1xuICAgICAgICB0aGlzLnVwZGF0ZVByZWZlcnNSZWR1Y2VkTW90aW9uU2V0dGluZygpO1xuICAgICAgICB0aGlzLnN0aWNrZWRUb0VsZW1lbnRNdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG11dGF0aW9uc18xID0gX192YWx1ZXMobXV0YXRpb25zKSwgbXV0YXRpb25zXzFfMSA9IG11dGF0aW9uc18xLm5leHQoKTsgIW11dGF0aW9uc18xXzEuZG9uZTsgbXV0YXRpb25zXzFfMSA9IG11dGF0aW9uc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbXV0YXRpb24gPSBtdXRhdGlvbnNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSAoZV8yID0gdm9pZCAwLCBfX3ZhbHVlcyhtdXRhdGlvbi5yZW1vdmVkTm9kZXMpKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbCA9PT0gX3RoaXMuc3RpY2tlZFRvRWxlbWVudCB8fCBlbC5jb250YWlucyhfdGhpcy5zdGlja2VkVG9FbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNldFN0aWNrZWRUb0VsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzZXRTdGlja2VkVG9FbGVtZW50TXV0YXRpb25PYnNlcnZlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNldE1hZ25ldGljKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uc18xXzEgJiYgIW11dGF0aW9uc18xXzEuZG9uZSAmJiAoX2EgPSBtdXRhdGlvbnNfMS5yZXR1cm4pKSBfYS5jYWxsKG11dGF0aW9uc18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgQmxvYml0eS5wcm90b3R5cGUuYm91bmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZWR1Y2VNb3Rpb25TZXR0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2Uuc2V0KCdzY2FsZScsIDEwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2Uuc2V0KCdzY2FsZScsIDk3KTtcbiAgICAgICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5faW5zdGFuY2VzLnNjYWxlLnZlbG9jaXR5ID0gMztcbiAgICAgICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5hbmltYXRlKCdzY2FsZScsIDEwMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbG9iaXR5LnByb3RvdHlwZSwgXCJhY3RpdmVUb29sdGlwXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYW51YWxseVNldFRvb2x0aXBUZXh0IHx8IHRoaXMuc3RpY2tldFRvRWxlbWVudFRvb2x0aXA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmxvYml0eS5wcm90b3R5cGUsIFwiYWN0aXZlRm9jdXNlZEVsZW1lbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hbnVhbGx5U2V0Rm9jdXNlZEVsZW1lbnQgfHwgdGhpcy5zdGlja2VkVG9FbGVtZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQmxvYml0eS5wcm90b3R5cGUubW9ycGggPSBmdW5jdGlvbiAoX2EsIHJhZGl1cykge1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCB4ID0gX2EueCwgeSA9IF9hLnk7XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGluZ1N0aWNrZWRUb0VsZW1lbnRUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kaXNhYmxpbmdTdGlja2VkVG9FbGVtZW50VGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlW3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgncmFkaXVzJywgcmFkaXVzKTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlW3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgnd2lkdGgnLCB3aWR0aCk7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZVt0aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZVt0aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3gnLCB4KTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlW3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgneScsIHkpO1xuICAgIH07XG4gICAgQmxvYml0eS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cywgdmVsb2NpdHlYLCB2ZWxvY2l0eVksIG9wYWNpdHksIHNjYWxlLCB0ZXh0T3BhY2l0eSkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIHZhciBtYXhEZWx0YSA9IHRoaXMuYWN0aXZlRm9jdXNlZEVsZW1lbnRcbiAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgOiAodGhpcy5vcHRpb25zLnNpemUgLyA4KSAqIDc7XG4gICAgICAgIHggPSB4ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHkgPSB5ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHdpZHRoID1cbiAgICAgICAgICAgICh0aGlzLmFjdGl2ZVRvb2x0aXAgPyB3aWR0aCA6IE1hdGgubWF4KHdpZHRoLCBtYXhEZWx0YSkpICpcbiAgICAgICAgICAgICAgICB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgaGVpZ2h0ID1cbiAgICAgICAgICAgICh0aGlzLmFjdGl2ZVRvb2x0aXAgPyBoZWlnaHQgOiBNYXRoLm1heChoZWlnaHQsIG1heERlbHRhKSkgKlxuICAgICAgICAgICAgICAgIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICByYWRpdXMgPSByYWRpdXMgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdmVsb2NpdHlYID0gdmVsb2NpdHlYICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHZlbG9jaXR5WSA9IHZlbG9jaXR5WSAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuY3R4O1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oc2NhbGUgLyAxMDAsIDAsIDAsIHNjYWxlIC8gMTAwLCB4LCB5KTtcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBjdHguc2NhbGUoc2NhbGUgLyAxMDAsIHNjYWxlIC8gMTAwKTtcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoLXdpZHRoLCAtaGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciBhY3RpdmF0ZUJsdXIgPSB0aGlzLm9wdGlvbnMua2luZXRpY01vcnBoaW5nICYmXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMod2lkdGggLSB0aGlzLm9wdGlvbnMuc2l6ZSAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSA8XG4gICAgICAgICAgICAgICAgICAgIDIgJiZcbiAgICAgICAgICAgICAgICBNYXRoLmFicyhoZWlnaHQgLSB0aGlzLm9wdGlvbnMuc2l6ZSAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSA8XG4gICAgICAgICAgICAgICAgICAgIDIgJiZcbiAgICAgICAgICAgICAgICBNYXRoLmFicyhyYWRpdXMgLSAodGhpcy5vcHRpb25zLnNpemUgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykgLyAyKSA8IDI7XG4gICAgICAgICAgICBpZiAoYWN0aXZhdGVCbHVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFuZ2xlID0gKE1hdGguYXRhbjIodmVsb2NpdHlZLCB2ZWxvY2l0eVgpICogMTgwKSAvIE1hdGguUEkgKyAxODA7XG4gICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShyYWRpdXMsIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY3R4LnJvdGF0ZSgoYW5nbGUgKiBNYXRoLlBJKSAvIDE4MCk7XG4gICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSgtcmFkaXVzLCAtcmFkaXVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdW11bGF0aXZlVmVsb2NpdHkgPSBhY3RpdmF0ZUJsdXJcbiAgICAgICAgICAgICAgICA/IE1hdGgubWluKE1hdGguc3FydChNYXRoLnBvdyhNYXRoLmFicyh2ZWxvY2l0eVgpLCAyKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucG93KE1hdGguYWJzKHZlbG9jaXR5WSksIDIpKSAqIDIsIC8vIHNvIHRoZSBkaXN0b3J0aW9uIHN0YXJ0cyBzb29uZXJcbiAgICAgICAgICAgICAgICA2MCAvLyBzaGFwZSBiZWNvbWVzIHRvbyBkaXN0b3J0ZWQgb25jZSB2ZWxvY2l0eSBpcyB0b28gYmlnXG4gICAgICAgICAgICAgICAgKSAvIDJcbiAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKHJhZGl1cywgMCk7XG4gICAgICAgICAgICBjdHguYXJjVG8od2lkdGggKyBjdW11bGF0aXZlVmVsb2NpdHksIGN1bXVsYXRpdmVWZWxvY2l0eSAvIDIsIHdpZHRoICsgY3VtdWxhdGl2ZVZlbG9jaXR5LCBoZWlnaHQgKyBjdW11bGF0aXZlVmVsb2NpdHkgLyAyLCBoZWxwZXJzXzEucG9zaXRpdmUocmFkaXVzIC0gY3VtdWxhdGl2ZVZlbG9jaXR5IC8gMikpO1xuICAgICAgICAgICAgY3R4LmFyY1RvKHdpZHRoICsgY3VtdWxhdGl2ZVZlbG9jaXR5LCBoZWlnaHQgLSBjdW11bGF0aXZlVmVsb2NpdHkgLyAyLCBjdW11bGF0aXZlVmVsb2NpdHksIGhlaWdodCAtIGN1bXVsYXRpdmVWZWxvY2l0eSAvIDIsIGhlbHBlcnNfMS5wb3NpdGl2ZShyYWRpdXMgLSBjdW11bGF0aXZlVmVsb2NpdHkgLyAyKSk7XG4gICAgICAgICAgICBjdHguYXJjVG8oMCwgaGVpZ2h0LCAwLCAwLCBoZWxwZXJzXzEucG9zaXRpdmUocmFkaXVzKSk7XG4gICAgICAgICAgICBjdHguYXJjVG8oMCwgMCwgd2lkdGgsIDAsIGhlbHBlcnNfMS5wb3NpdGl2ZShyYWRpdXMpKTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGlmIChoZWxwZXJzXzEuaXNHcmFkaWVudCh0aGlzLmNvbG9yKSkge1xuICAgICAgICAgICAgICAgIHZhciBncmFkaWVudF8xID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGhfMSA9IHRoaXMuY29sb3IubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IuZm9yRWFjaChmdW5jdGlvbiAoY29sb3IsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50XzEuYWRkQ29sb3JTdG9wKCgxIC8gKGxlbmd0aF8xIC0gMSkpICogaW5kZXgsIFwicmdiKFwiICsgY29sb3IuciArIFwiLCBcIiArIGNvbG9yLmcgKyBcIiwgXCIgKyBjb2xvci5iICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudF8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiKFwiICsgdGhpcy5jb2xvci5yICsgXCIsIFwiICsgdGhpcy5jb2xvci5nICsgXCIsIFwiICsgdGhpcy5jb2xvci5iICsgXCIpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlVG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oc2NhbGUgLyAxMDAsIDAsIDAsIHNjYWxlIC8gMTAwLCB4LCB5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAndG9wJztcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZm9udCA9IHRoaXMub3B0aW9ucy5mb250V2VpZ2h0ICsgXCIgXCIgKyB0aGlzLm9wdGlvbnMuZm9udFNpemUgKlxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAqXG4gICAgICAgICAgICAgICAgICAgIChzY2FsZSAvIDEwMCkgKyBcInB4IFwiICsgdGhpcy5vcHRpb25zLmZvbnQ7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYShcXG4gICAgICAgICAgICAgICAgICAgIFwiICsgdGhpcy5mb250Q29sb3IuciArIFwiLCBcIiArIHRoaXMuZm9udENvbG9yLmcgKyBcIiwgXFxuICAgICAgICAgICAgICAgICAgICBcIiArIHRoaXMuZm9udENvbG9yLmIgKyBcIiwgXCIgKyB0ZXh0T3BhY2l0eSAvIDEwMCArIFwiKVwiO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLmFjdGl2ZVRvb2x0aXAsIHRoaXMub3B0aW9ucy50b29sdGlwUGFkZGluZyAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIC1cbiAgICAgICAgICAgICAgICAgICAgKChzY2FsZSAtIDEwMCkgLyAxMDApICogd2lkdGgsIHRoaXMub3B0aW9ucy50b29sdGlwUGFkZGluZyAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIC1cbiAgICAgICAgICAgICAgICAgICAgKChzY2FsZSAtIDEwMCkgLyAxMDApICogaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJsb2JpdHk7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQmxvYml0eTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/blobity/lib/Blobity.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/blobity/lib/Magnetic.js":
/*!**********************************************!*\
  !*** ./node_modules/blobity/lib/Magnetic.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar kinet_1 = __importDefault(__webpack_require__(/*! kinet */ \"(ssr)/./node_modules/kinet/lib/index.js\"));\nvar throttle_1 = __importDefault(__webpack_require__(/*! lodash/throttle */ \"(ssr)/./node_modules/lodash/throttle.js\"));\nvar Magnetic = /** @class */ (function () {\n    function Magnetic(element) {\n        var _this = this;\n        this.destroying = false;\n        this.onTick = null;\n        this.destroy = function () {\n            window.removeEventListener('mousemove', _this.throttledMouseMove);\n            _this.destroying = true;\n            _this.kinetInstance.animate('x', 0);\n            _this.kinetInstance.animate('y', 0);\n        };\n        this.mouseMove = function (event) {\n            var distance = _this.getDistance(event.clientX + window.scrollX, event.clientY + window.scrollY);\n            _this.render(distance, -1 * (_this.center.x - event.clientX - window.scrollX), -1 * (_this.center.y - event.clientY - window.scrollY));\n        };\n        this.kinetInstance = new kinet_1.default({\n            names: ['x', 'y'],\n            acceleration: 0.1,\n            friction: 0.4,\n        });\n        this.element = element;\n        this.rect = this.element.getBoundingClientRect();\n        this.center = {\n            x: this.rect.x + window.scrollX + this.element.offsetWidth / 2,\n            y: this.rect.y + window.scrollY + this.element.offsetHeight / 2,\n        };\n        this.maxDistanceX = this.element.offsetWidth / 2;\n        this.maxDistanceY = this.element.offsetWidth / 2;\n        this.throttledMouseMove = throttle_1.default(this.mouseMove);\n        window.addEventListener('mousemove', this.throttledMouseMove, {\n            passive: true,\n        });\n        this.kinetInstance.on('tick', function (instances) {\n            _this.element.style.transform = \"translate3d(\" + instances.x.current + \"px, \" + instances.y.current + \"px, 0) rotateY(\" + instances.x.current / 2 + \"deg) rotateX(\" + instances.y.current / 2 + \"deg)\";\n            _this.onTick && _this.onTick();\n        });\n        this.kinetInstance.on('end', function () {\n            if (_this.destroying) {\n                _this.element.style.transform = '';\n            }\n        });\n    }\n    Magnetic.prototype.getDistance = function (x, y) {\n        return Math.round(Math.sqrt(Math.pow(this.center.x - x, 2) + Math.pow(this.center.y - y, 2)));\n    };\n    Magnetic.prototype.render = function (distance, x, y) {\n        if (Math.abs(x) < this.maxDistanceX &&\n            Math.abs(y) < this.maxDistanceY) {\n            var percentX = x / this.maxDistanceX;\n            var percentY = y / this.maxDistanceY;\n            this.kinetInstance.animate('x', Math.round(20 * percentX));\n            this.kinetInstance.animate('y', Math.round(20 * percentY));\n        }\n        else {\n            this.kinetInstance.animate('x', 0);\n            this.kinetInstance.animate('y', 0);\n        }\n    };\n    return Magnetic;\n}());\nexports[\"default\"] = Magnetic;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvTWFnbmV0aWMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEIsbUJBQU8sQ0FBQyxzREFBTztBQUM3QyxpQ0FBaUMsbUJBQU8sQ0FBQyxnRUFBaUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtaS1mb2xpby8uL25vZGVfbW9kdWxlcy9ibG9iaXR5L2xpYi9NYWduZXRpYy5qcz9iOGE5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGtpbmV0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImtpbmV0XCIpKTtcbnZhciB0aHJvdHRsZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2gvdGhyb3R0bGVcIikpO1xudmFyIE1hZ25ldGljID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hZ25ldGljKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5kZXN0cm95aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25UaWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF90aGlzLnRocm90dGxlZE1vdXNlTW92ZSk7XG4gICAgICAgICAgICBfdGhpcy5kZXN0cm95aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2UuYW5pbWF0ZSgneCcsIDApO1xuICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZS5hbmltYXRlKCd5JywgMCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBfdGhpcy5nZXREaXN0YW5jZShldmVudC5jbGllbnRYICsgd2luZG93LnNjcm9sbFgsIGV2ZW50LmNsaWVudFkgKyB3aW5kb3cuc2Nyb2xsWSk7XG4gICAgICAgICAgICBfdGhpcy5yZW5kZXIoZGlzdGFuY2UsIC0xICogKF90aGlzLmNlbnRlci54IC0gZXZlbnQuY2xpZW50WCAtIHdpbmRvdy5zY3JvbGxYKSwgLTEgKiAoX3RoaXMuY2VudGVyLnkgLSBldmVudC5jbGllbnRZIC0gd2luZG93LnNjcm9sbFkpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlID0gbmV3IGtpbmV0XzEuZGVmYXVsdCh7XG4gICAgICAgICAgICBuYW1lczogWyd4JywgJ3knXSxcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbjogMC4xLFxuICAgICAgICAgICAgZnJpY3Rpb246IDAuNCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucmVjdCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLnJlY3QueCArIHdpbmRvdy5zY3JvbGxYICsgdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IHRoaXMucmVjdC55ICsgd2luZG93LnNjcm9sbFkgKyB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0IC8gMixcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYXhEaXN0YW5jZVggPSB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgICB0aGlzLm1heERpc3RhbmNlWSA9IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCAvIDI7XG4gICAgICAgIHRoaXMudGhyb3R0bGVkTW91c2VNb3ZlID0gdGhyb3R0bGVfMS5kZWZhdWx0KHRoaXMubW91c2VNb3ZlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMudGhyb3R0bGVkTW91c2VNb3ZlLCB7XG4gICAgICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLm9uKCd0aWNrJywgZnVuY3Rpb24gKGluc3RhbmNlcykge1xuICAgICAgICAgICAgX3RoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZTNkKFwiICsgaW5zdGFuY2VzLnguY3VycmVudCArIFwicHgsIFwiICsgaW5zdGFuY2VzLnkuY3VycmVudCArIFwicHgsIDApIHJvdGF0ZVkoXCIgKyBpbnN0YW5jZXMueC5jdXJyZW50IC8gMiArIFwiZGVnKSByb3RhdGVYKFwiICsgaW5zdGFuY2VzLnkuY3VycmVudCAvIDIgKyBcImRlZylcIjtcbiAgICAgICAgICAgIF90aGlzLm9uVGljayAmJiBfdGhpcy5vblRpY2soKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmRlc3Ryb3lpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgTWFnbmV0aWMucHJvdG90eXBlLmdldERpc3RhbmNlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMuY2VudGVyLnggLSB4LCAyKSArIE1hdGgucG93KHRoaXMuY2VudGVyLnkgLSB5LCAyKSkpO1xuICAgIH07XG4gICAgTWFnbmV0aWMucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChkaXN0YW5jZSwgeCwgeSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoeCkgPCB0aGlzLm1heERpc3RhbmNlWCAmJlxuICAgICAgICAgICAgTWF0aC5hYnMoeSkgPCB0aGlzLm1heERpc3RhbmNlWSkge1xuICAgICAgICAgICAgdmFyIHBlcmNlbnRYID0geCAvIHRoaXMubWF4RGlzdGFuY2VYO1xuICAgICAgICAgICAgdmFyIHBlcmNlbnRZID0geSAvIHRoaXMubWF4RGlzdGFuY2VZO1xuICAgICAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLmFuaW1hdGUoJ3gnLCBNYXRoLnJvdW5kKDIwICogcGVyY2VudFgpKTtcbiAgICAgICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5hbmltYXRlKCd5JywgTWF0aC5yb3VuZCgyMCAqIHBlcmNlbnRZKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2UuYW5pbWF0ZSgneCcsIDApO1xuICAgICAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLmFuaW1hdGUoJ3knLCAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1hZ25ldGljO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1hZ25ldGljO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/blobity/lib/Magnetic.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/blobity/lib/helpers.js":
/*!*********************************************!*\
  !*** ./node_modules/blobity/lib/helpers.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.negative = exports.positive = exports.isGradient = exports.convertColor = exports.extractRgbFromRgb = exports.extractRgbFromHex = void 0;\nvar extractRgbFromHex = function (hex) {\n    var r = parseInt(hex.slice(1, 3), 16);\n    var g = parseInt(hex.slice(3, 5), 16);\n    var b = parseInt(hex.slice(5, 7), 16);\n    return { r: r, g: g, b: b };\n};\nexports.extractRgbFromHex = extractRgbFromHex;\nvar extractRgbFromRgb = function (rgb) {\n    var match = /rgb\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})\\)/.exec(rgb);\n    if (match === null) {\n        throw new Error(\"Couldn't convert color string \" + rgb);\n    }\n    return {\n        r: parseInt(match[1]),\n        g: parseInt(match[2]),\n        b: parseInt(match[3]),\n    };\n};\nexports.extractRgbFromRgb = extractRgbFromRgb;\nvar convertColor = function (color) {\n    if (color.includes('rgb')) {\n        return exports.extractRgbFromRgb(color);\n    }\n    else if (color.startsWith('#')) {\n        return exports.extractRgbFromHex(color);\n    }\n    throw new Error(\"Couldn't convert color string \" + color);\n};\nexports.convertColor = convertColor;\nvar isGradient = function (color) {\n    return Array.isArray(color);\n};\nexports.isGradient = isGradient;\nvar positive = function (n) { return Math.max(n, 0); };\nexports.positive = positive;\nvar negative = function (n) { return Math.min(n, 0); };\nexports.negative = negative;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsR0FBRyxnQkFBZ0IsR0FBRyxrQkFBa0IsR0FBRyxvQkFBb0IsR0FBRyx5QkFBeUIsR0FBRyx5QkFBeUI7QUFDdkk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSwwQkFBMEIsSUFBSSxPQUFPLElBQUksT0FBTyxJQUFJO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLDhCQUE4QjtBQUM5QixnQkFBZ0I7QUFDaEIsOEJBQThCO0FBQzlCLGdCQUFnQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NhbWktZm9saW8vLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvaGVscGVycy5qcz9kOTFjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5uZWdhdGl2ZSA9IGV4cG9ydHMucG9zaXRpdmUgPSBleHBvcnRzLmlzR3JhZGllbnQgPSBleHBvcnRzLmNvbnZlcnRDb2xvciA9IGV4cG9ydHMuZXh0cmFjdFJnYkZyb21SZ2IgPSBleHBvcnRzLmV4dHJhY3RSZ2JGcm9tSGV4ID0gdm9pZCAwO1xudmFyIGV4dHJhY3RSZ2JGcm9tSGV4ID0gZnVuY3Rpb24gKGhleCkge1xuICAgIHZhciByID0gcGFyc2VJbnQoaGV4LnNsaWNlKDEsIDMpLCAxNik7XG4gICAgdmFyIGcgPSBwYXJzZUludChoZXguc2xpY2UoMywgNSksIDE2KTtcbiAgICB2YXIgYiA9IHBhcnNlSW50KGhleC5zbGljZSg1LCA3KSwgMTYpO1xuICAgIHJldHVybiB7IHI6IHIsIGc6IGcsIGI6IGIgfTtcbn07XG5leHBvcnRzLmV4dHJhY3RSZ2JGcm9tSGV4ID0gZXh0cmFjdFJnYkZyb21IZXg7XG52YXIgZXh0cmFjdFJnYkZyb21SZ2IgPSBmdW5jdGlvbiAocmdiKSB7XG4gICAgdmFyIG1hdGNoID0gL3JnYlxcKChcXGR7MSwzfSksIChcXGR7MSwzfSksIChcXGR7MSwzfSlcXCkvLmV4ZWMocmdiKTtcbiAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgY29udmVydCBjb2xvciBzdHJpbmcgXCIgKyByZ2IpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByOiBwYXJzZUludChtYXRjaFsxXSksXG4gICAgICAgIGc6IHBhcnNlSW50KG1hdGNoWzJdKSxcbiAgICAgICAgYjogcGFyc2VJbnQobWF0Y2hbM10pLFxuICAgIH07XG59O1xuZXhwb3J0cy5leHRyYWN0UmdiRnJvbVJnYiA9IGV4dHJhY3RSZ2JGcm9tUmdiO1xudmFyIGNvbnZlcnRDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgIGlmIChjb2xvci5pbmNsdWRlcygncmdiJykpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuZXh0cmFjdFJnYkZyb21SZ2IoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2xvci5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuZXh0cmFjdFJnYkZyb21IZXgoY29sb3IpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBjb252ZXJ0IGNvbG9yIHN0cmluZyBcIiArIGNvbG9yKTtcbn07XG5leHBvcnRzLmNvbnZlcnRDb2xvciA9IGNvbnZlcnRDb2xvcjtcbnZhciBpc0dyYWRpZW50ID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoY29sb3IpO1xufTtcbmV4cG9ydHMuaXNHcmFkaWVudCA9IGlzR3JhZGllbnQ7XG52YXIgcG9zaXRpdmUgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gTWF0aC5tYXgobiwgMCk7IH07XG5leHBvcnRzLnBvc2l0aXZlID0gcG9zaXRpdmU7XG52YXIgbmVnYXRpdmUgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gTWF0aC5taW4obiwgMCk7IH07XG5leHBvcnRzLm5lZ2F0aXZlID0gbmVnYXRpdmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/blobity/lib/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/blobity/lib/react/useBlobity.js":
/*!******************************************************!*\
  !*** ./node_modules/blobity/lib/react/useBlobity.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar react_1 = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\nvar Blobity_1 = __importDefault(__webpack_require__(/*! ../Blobity */ \"(ssr)/./node_modules/blobity/lib/Blobity.js\"));\nexports[\"default\"] = (function (options) {\n    var instance = react_1.useRef(null);\n    react_1.useEffect(function () {\n        if (!instance.current) {\n            instance.current = new Blobity_1.default(options);\n        }\n    }, []);\n    return instance;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvcmVhY3QvdXNlQmxvYml0eS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWMsbUJBQU8sQ0FBQyx3R0FBTztBQUM3QixnQ0FBZ0MsbUJBQU8sQ0FBQywrREFBWTtBQUNwRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtaS1mb2xpby8uL25vZGVfbW9kdWxlcy9ibG9iaXR5L2xpYi9yZWFjdC91c2VCbG9iaXR5LmpzPzlkYzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBCbG9iaXR5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL0Jsb2JpdHlcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gKGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGluc3RhbmNlID0gcmVhY3RfMS51c2VSZWYobnVsbCk7XG4gICAgcmVhY3RfMS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWluc3RhbmNlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLmN1cnJlbnQgPSBuZXcgQmxvYml0eV8xLmRlZmF1bHQob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/blobity/lib/react/useBlobity.js\n");

/***/ })

};
;